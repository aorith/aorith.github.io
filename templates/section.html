{% extends "base.html" %}

{%- block main -%}
  <main>
    {%- if taxonomy.term %}
      <h3 class="filter">Filtering for "{{ section.title }}"</h3>
      <small>
        <a href="{{ get_url(path="@/blog/_index.md") }}">{{ trans(key="remove_filter") }}</a>
      </small>
    {%- endif %}
    <ul class="blog-posts">
      {%- for page in section.pages %}
        <li>
          <span>
            <time datetime="{{ page.date | date(format='%+') }}" pubdate>
              {{ page.date | date(format="%Y-%m-%d") }}
            </time>
          </span>
          <a href="{{ page.permalink }}">{{ page.title }}</a>
        </li>
        {%- else %}
        <li>No posts yet</li>
      {%- endfor -%}
    </ul>
    <div class="tags">
      {%- set taxonomy_group = section.extra.taxonomy_group | default(value="tags") %}
      {%- set tags = get_taxonomy(kind=taxonomy_group) %}
      {%- for post in tags.items %}
        <a href="{{ post.permalink }}">#{{ post.name }}</a>&nbsp;
      {%- endfor %}
    </div>
  </main>
{% endblock %}
