html {
  font-family: sans-serif;
  font-size: var(--base-font-size);
  -webkit-text-size-adjust: 100%;
}

body {
  background-color: var(--bg-0);
  color: var(--fg-0);
  font-family: var(--font-family);
  line-height: var(--line-height);
  word-wrap: break-word;
  margin: 0;
}

article,
footer,
header,
nav,
main,
section {
  display: block;
}

main#content {
  width: 1024px;
  padding: var(--space-0);
  padding-top: var(--space-2);
  padding-bottom: var(--space-1);
  margin: 0 auto;
}

hr {
  background: var(--fg-1);
  display: block;
  border: 0;
  width: 100%;
  height: 1px;
  margin: var(--vertical-1) auto;
}

blockquote {
  margin: 0;
  padding-left: var(--vertical-1);
  border-left: 6px solid var(--bg-1);
}

blockquote p {
  font-style: italic;
  &:before {
    padding-right: calc(var(--base-font-size) - 6px);
    color: var(--fg-1);
    content: open-quote;
    font-size: var(--lsize);
    display: inline;
  }
  &:after {
    padding-left: calc(var(--base-font-size) - 6px);
    color: var(--fg-1);
    content: close-quote;
    font-size: var(--lsize);
    display: inline;
  }
}

pre,
code {
  font-family: var(--font-family-mono);
  font-size: var(--code-font-size);
}

div.highlight pre.chroma,
pre {
  background-color: var(--bg-rgba-dim);
  margin: var(--vertical-0) 0;
  padding: var(--space-1);
  padding-left: var(--space-2);
  white-space: pre-wrap;
  white-space-collapse: preserve;
  overflow-x: auto;
  overflow-wrap: break-word;
  word-break: normal;
  word-wrap: inherit;
  border-top: 5px solid var(--bg-1);
  border-bottom: 5px solid var(--bg-1);
}

pre.chroma code {
  display: inline-block;
  overflow-wrap: normal;
  word-break: normal;
  word-spacing: 0;
  text-wrap: nowrap;
}

:not(pre) > code {
  background-color: var(--bg-2);
  color: var(--red-1);
  padding: 3px;
}

h1,
h2,
h3,
h4,
h5,
h6 {
  font-family: var(--font-family);
  line-height: var(--heading-line-height);
  padding: 0;
  margin-bottom: var(--space-0);
  font-weight: 700;
}

h1 {
  font-size: var(--xxxlsize);
}
h2 {
  font-size: var(--xxlsize);
  color: var(--warm);
}
h3 {
  font-size: var(--xlsize);
  color: var(--cold);
}
h4 {
  font-size: var(--lsize);
  color: var(--mild);
}
h5 {
  font-size: var(--lsize);
  color: var(--calm);
}
h6 {
  font-size: var(--msize);
  color: var(--fg-1);
}

h1 + h2,
h2 + h3,
h3 + h4,
h4 + h5,
h5 + h6 {
  margin-top: 0;
}

ul ul,
ul ol,
ol ol,
ol ul {
  margin: 0;
}

li + li,
li ul,
li ol {
  margin-top: var(--space-0);
}

p + h2,
p + h3,
ul + h2,
ul + h3,
ol + h2,
ol + h3,
blockquote + h2,
blockquote + h3,
div + h2,
div + h3,
small + h2,
small + h3,
pre + h2,
pre + h3,
dd + dt {
  margin-top: var(--vertical-1);
}

p {
  margin: 0 0 var(--vertical-0);
  padding: 0;
}

b,
strong {
  font-weight: 700;
}

i,
em {
  font-style: italic;
}

ul,
ol {
  margin: 0 0 var(--vertical-0);
  padding: 0 0 0 var(--vertical-0);
}

table {
  margin: var(--vertical-0) 0;
  border-collapse: collapse;
  font-size: var(--xssize);
}

thead {
  background-color: var(--bg-2);
}

th {
  border: 3px solid var(--bg-1);
  padding: var(--space-0);
}

tbody {
  border: 3px solid var(--bg-1);
}

td {
  border: 1px solid var(--bg-1);
  padding: var(--space-0);
}

tr:nth-child(even) {
  background-color: var(--bg-2);
}

tr:hover {
  background-color: var(--bg-1);
}

figure {
  margin: 0;
  padding: var(--space-2);
}

figure img {
  display: block;
  margin: auto;
  height: auto;
  max-width: 100%;
  box-shadow: 0 1px 3px var(--fg-1);
}

figcaption {
  text-align: center;
  font-style: italic;
  color: var(--fg-1);
  font-size: var(--code-font-size);
}

video {
  max-width: 95%;
}

#tags_list {
  display: grid;
  margin: 0 var(--vertical-0);
  margin-bottom: var(--vertical-0);
  padding-top: var(--vertical-0);
  grid-template-areas: "a a a a";
  grid-auto-rows: auto;
  gap: var(--space-0);
  justify-content: center;

  & .tag_list {
    padding-left: var(--space-0);
    padding-right: var(--space-0);
  }

  & .tag_list sup {
    padding-left: 2px;
    color: var(--yellow-1);
  }
}

time {
  color: var(--fg-1);
  font-style: italic;
  font-variant: tabular-nums;
  font-size: var(--code-font-size);
}

dt {
  font-weight: 700;
}

#content {
  margin: 0 auto;
  margin-top: var(--space-1);
  padding: var(--space-1);
}

@keyframes blink {
  50% {
    opacity: 0;
  }
}

#links {
  display: grid;
  grid-template-areas: "a a";
  grid-auto-rows: auto;
  gap: 4px;
  justify-content: center;

  text-align: left;
  padding: 0;
  margin: 0;
  margin: var(--space-0);
  padding: var(--space-0);

  & a {
    text-decoration: none;
  }
}

#links :nth-child(1) {
  margin-right: var(--space-0);
}

#links :nth-child(2) {
  margin-left: var(--space-0);
}

a {
  color: var(--link-0);
  text-decoration: underline;

  &:hover,
  &:focus {
    background: var(--linkh-0);
    color: var(--bg-0);
    outline: none;
    text-decoration: none;
  }

  &:visited {
    color: var(--link-1);
  }
  &:visited:hover,
  &:visited:focus {
    background: var(--linkh-1);
    color: var(--bg-0);
  }
}

a i {
  padding-left: 0.25rem;
  text-decoration: none;
}

section.posts_listing {
  display: grid;
  grid-template-areas: "a";
  grid-auto-rows: auto;
  gap: 1px;
  justify-content: center;

  text-align: left;
  margin: var(--space-0);
  padding: var(--space-0);

  & a {
    text-decoration: none;
    padding: var(--space-0);
    margin: calc(var(--space-0) * 0.5);
    border-radius: 10px;
    color: var(--link-0);
  }
  & a:hover,
  a:focus {
    background-color: var(--bg-1);
    color: var(--linkh-0);
  }
  & a:visited {
    color: var(--link-1);
  }
  & a:visited:hover,
  & a:visited:focus {
    color: var(--linkh-1);
  }

  & a:hover div.title {
    text-decoration: underline;
  }

  & a div.title {
    font-size: calc(var(--base-font-size) * 1.3);
  }
  & a time {
    font-size: var(--code-font-size);
    font-style: normal;
    padding: 1px 4px;
    margin: 0;
    padding-right: var(--space-1);
    color: var(--grey);
  }
  & a span.tag {
    font-size: var(--code-font-size);
    font-style: italic;
    padding: 1px 4px;
    margin: 0;
    color: var(--grey);
  }
}

details#toc {
  cursor: pointer;
  background-color: var(--bg-2);
  border-top: 2px solid var(--bg-1);
  border-bottom: 2px solid var(--bg-1);
  padding: var(--space-0);
  margin-bottom: var(--space-1);

  & nav ul {
    list-style-type: none;
    margin: auto;
  }
  & nav ul li {
    margin: calc(var(--space-0) * 0.5);
  }
  & nav ul li a {
    text-decoration: none;
  }
  & summary {
    font-style: italic;
  }
}

.align-center {
  text-align: center;
}

/* Mobile and small screens */
@media only screen and (max-width: 1048px) {
  body {
    width: 100%;
  }

  main#content {
    padding: calc(var(--space-0) * 0.5);
    padding-top: var(--space-1);
    padding-bottom: var(--space-0);
    width: 92%;
    min-width: 375px;
  }

  blockquote {
    padding-left: var(--vertical-0);
  }

  div.highlight pre.chroma,
  pre {
    padding: var(--space-0);
    padding-left: var(--space-1);
    border-top: 4px solid var(--bg-1);
    border-bottom: 4px solid var(--bg-1);
  }

  #tags_list {
    grid-template-areas: "a a";
  }

  p + h2,
  p + h3,
  ul + h2,
  ul + h3,
  ol + h2,
  ol + h3,
  blockquote + h2,
  blockquote + h3,
  div + h2,
  div + h3,
  small + h2,
  small + h3,
  pre + h2,
  pre + h3,
  dd + dt {
    margin-top: var(--vertical-0);
  }

  section.posts_listing {
    padding: 0;
    margin: 0;
    margin: calc(var(--space-0) * 0.5);
    padding: calc(var(--space-0) * 0.5);
  }

  #div.comments {
    width: 95%;
  }

  figure {
    padding: var(--space-1);
  }
}
